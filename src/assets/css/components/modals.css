body,
html {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    background-color: #000;
    font-family: sans-serif;
}

.viewer-container {
    display: flex;
    width: 100%;
    height: 100vh;
}

/* Barras Laterales */
.toolbar {
    width: 50px;
    background-color: #1a1a1a;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 10px 0;
    gap: 10px;
    z-index: 10;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

.toolbar-right {
    border-left: 1px solid #333;
}

.toolbar-left {
    border-right: 1px solid #333;
}

/* Botones */
.btn {
    width: 36px;
    height: 36px;
    background: transparent;
    border: none;
    color: #ccc;
    cursor: pointer;
    border-radius: 5px;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: all 0.2s;
    text-decoration: none;
    /* Para el enlace de descarga */
}

.btn:hover {
    background-color: #333;
    color: #fff;
}

.btn:active {
    transform: scale(0.95);
}

.btn.active {
    color: #4CAF50;
}

/* √Årea Principal */
.viewport {
    flex-grow: 1;
    position: relative;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    background-image: radial-gradient(#222 1px, transparent 1px);
    background-size: 20px 20px;
    cursor: grab;
}

.viewport:active {
    cursor: grabbing;
}

/* Imagen */
#target-img {
    max-width: 95%;
    /* Margen de seguridad */
    max-height: 95%;
    transition: transform 0.1s ease-out, filter 0.2s ease;
    transform-origin: center;
    user-select: none;
    pointer-events: none;
    /* Para que el arrastre sea en el viewport */
}

/* Tooltip simple */
.btn[title]:hover::after {
    content: attr(title);
    position: absolute;
    left: 60px;
    background: #333;
    color: #fff;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    white-space: nowrap;
    z-index: 20;
}

.toolbar-right .btn[title]:hover::after {
    left: auto;
    right: 60px;
}

/* Info Overlay */
.info-overlay {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 5px 15px;
    border-radius: 20px;
    font-size: 12px;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s;
}

.info-overlay.visible {
    opacity: 1;
}

/* Thumbnails */
/* Note: The key-specific classes from Python need to be handled carefully. 
   We'll keep the dynamic key classes in Python but move common styles here if possible, 
   or keep them in Python if they are too dynamic. 
   For now, we'll extract the generic parts. */